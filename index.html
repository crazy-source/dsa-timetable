<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-Week DSA Plan (Striver Sheet)</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        .task-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, opacity 0.3s;
        }
        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .completed {
            opacity: 0.6;
        }
        .current-day {
            border: 2px solid #2563EB; /* border-blue-600 */
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }
        .weekend {
            background-color: #1F2937; /* bg-gray-800 */
            border-left: 4px solid #F59E0B; /* border-amber-500 */
        }
        .problem-checkbox-custom {
            appearance: none;
            min-width: 1.25rem;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #4B5563; /* border-gray-600 */
            border-radius: 0.25rem;
            display: inline-block;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            flex-shrink: 0;
        }
        .problem-checkbox-custom:checked {
            background-color: #10B981; /* bg-green-500 */
            border-color: #10B981; /* border-green-500 */
        }
        .problem-checkbox-custom:checked::after {
            content: 'âœ”';
            font-size: 0.8rem;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .progress-bar {
            transition: width 0.3s ease-in-out;
        }
        label:has(+ .problem-checkbox-custom:checked) {
            text-decoration: line-through;
            color: #6B7280; /* text-gray-500 */
        }
    </style>
</head>
<body class="text-gray-200">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-white">Your 2-Week DSA Sprint</h1>
            <p class="text-lg text-gray-400 mt-2">Featuring problems from the <span class="font-bold text-cyan-400">Striver SDE Sheet</span>.</p>
        </header>

        <div class="mb-12">
            <h2 class="text-3xl font-bold text-white mb-6 border-l-4 border-cyan-400 pl-4">Week 1: Foundations & Core Structures</h2>
            <div id="week1-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
        </div>

        <div>
            <h2 class="text-3xl font-bold text-white mb-6 border-l-4 border-cyan-400 pl-4">Week 2: Advanced Algorithms & Review</h2>
            <div id="week2-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
        </div>
    </div>

    <script>
        // Data for the timetable - ALIGNED WITH STRIVER SDE SHEET
        const schedule = [
            // Week 1
            { day: "Tuesday", topic: "Arrays & Hashing", focus: "Master basic array manipulation and hashmaps for optimal solutions. These are the building blocks.", problems: ["Set Matrix Zeroes", "Kadane's Algorithm", "Two Sum", "Longest Consecutive Sequence"] },
            { day: "Wednesday", topic: "Arrays - Two Pointers & Sliding Window", focus: "Learn patterns for efficiently solving array and substring problems with optimal time complexity.", problems: ["3 Sum", "Trapping Rainwater", "Remove Duplicates from Sorted Array", "Longest Substring Without Repeating Characters"] },
            { day: "Thursday", topic: "Stacks & Queues", focus: "Understand LIFO/FIFO principles and their application in solving complex problems like finding next greater elements.", problems: ["Next Greater Element", "Implement a Queue using Stack", "Valid Parentheses", "Sort a Stack"] },
            { day: "Friday", topic: "Binary Search", focus: "Master binary search on sorted data and learn to apply it on search spaces for complex problems.", problems: ["Single element in a sorted array", "Search in rotated sorted array", "Median of two sorted arrays", "Allocate minimum number of pages"] },
            { day: "Saturday", topic: "Trees (Deep Dive)", focus: "A full day dedicated to tree traversals, construction, and solving popular BST problems.", problems: ["Preorder, Inorder, Postorder in One Traversal", "Maximum Path Sum", "Construct Tree from inorder & preorder", "Validate a Binary Search Tree"], isWeekend: true },
            { day: "Sunday", topic: "Graphs (Deep Dive)", focus: "A full day on graph theory. Solidify your understanding of traversal algorithms and their applications in sorting and pathfinding.", problems: ["BFS in Graph", "DFS in Graph", "Topological Sort (Kahn's Algorithm)", "Dijkstra's Algorithm"], isWeekend: true },
            { day: "Monday", topic: "Linked Lists", focus: "Cover the most important linked list patterns, including reversal, cycle detection, and merging.", problems: ["Reverse a LinkedList", "Find middle of LinkedList", "Merge two sorted LinkedLists", "Detect a cycle in Linked List"] },
            // Week 2
            { day: "Tuesday", topic: "Heaps (Priority Queues)", focus: "Learn how to use heaps to efficiently find k-th elements and manage ordered data streams.", problems: ["Kth Largest Element in an Array", "Find Median from a Data Stream", "Merge K Sorted Arrays"] },
            { day: "Wednesday", topic: "Review: Arrays & Hashing", focus: "Solidify your understanding of core array topics. Redo problems you struggled with and try one new medium one.", problems: ["Pascal's Triangle", "Next Permutation", "4 Sum"] },
            { day: "Thursday", topic: "Review: Linked Lists & Stacks", focus: "Revisit these topics to ensure you haven't forgotten the patterns. Focus on edge cases.", problems: ["Find starting point of Loop", "Flattening a Linked List", "LRU Cache"] },
            { day: "Friday", topic: "Review: Trees & Graphs", focus: "A crucial review of the weekend's complex topics. Ensure you understand the patterns for traversals and pathfinding.", problems: ["LCA of a Binary Tree", "Check for Bipartite Graph", "Number of Islands"] },
            { day: "Saturday", topic: "Recursion & Backtracking", focus: "A full day to master the 'choose, explore, un-choose' pattern to solve problems involving permutations, subsets, and partitioning.", problems: ["Subset Sums", "Combination Sum I", "Palindrome Partitioning", "N-Queens"], isWeekend: true },
            { day: "Sunday", topic: "Dynamic Programming (Intro)", focus: "A full day on DP. Grasp memoization and tabulation. Focus on classic 1D DP patterns.", problems: ["Maximum Product Subarray", "Longest Increasing Subsequence", "0/1 Knapsack", "Edit Distance"], isWeekend: true },
            { day: "Monday", topic: "Mock Test & Final Revision", focus: "Take a timed online assessment. Analyze mistakes, review key concepts, and relax. No new topics!", problems: ["Take a mock test", "Review notes", "Relax!"] }
        ];

        const week1Grid = document.getElementById('week1-grid');
        const week2Grid = document.getElementById('week2-grid');
        const progressKey = 'dsaSprintProgress';

        // Function to create a card element
        function createCard(task, index) {
            const isCurrentDay = index === 0;
            const card = document.createElement('div');
            card.className = `task-card bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col justify-between ${task.isWeekend ? 'weekend' : ''} ${isCurrentDay ? 'current-day' : ''}`;
            card.dataset.cardIndex = index; // Add index for saving/loading progress
            
            const problemList = task.problems.map((p, i) => `
                <li class="flex items-center my-2">
                    <input type="checkbox" id="task-${index}-problem-${i}" class="problem-checkbox-custom mr-3">
                    <label for="task-${index}-problem-${i}" class="text-gray-300 cursor-pointer w-full">${p}</label>
                </li>
            `).join('');

            card.innerHTML = `
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold text-xl text-white">${task.day}</h3>
                        <span class="text-xs font-semibold ${task.isWeekend ? 'text-yellow-300' : 'text-gray-400'}">${task.isWeekend ? 'WEEKEND DEEP DIVE' : 'WEEKDAY FOCUS'}</span>
                    </div>
                    <p class="text-lg text-cyan-400 font-semibold mb-3">${task.topic}</p>
                    <p class="text-sm text-gray-400 mb-4">${task.focus}</p>
                    <p class="font-semibold text-gray-300 mb-2 border-t border-gray-700 pt-3">Striver SDE Sheet Problems:</p>
                    <ul class="space-y-1 text-gray-300 text-sm list-inside">${problemList}</ul>
                </div>
                <div class="mt-4">
                    <div class="flex justify-between mb-1">
                        <span class="text-xs font-medium text-gray-400">Progress</span>
                        <span class="text-xs font-medium text-gray-400 progress-text">0%</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2.5">
                        <div class="bg-green-500 h-2.5 rounded-full progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            `;
            return card;
        }

        // Function to update progress for a card
        function updateProgress(card) {
            const checkboxes = card.querySelectorAll('.problem-checkbox-custom');
            const checkedCount = card.querySelectorAll('.problem-checkbox-custom:checked').length;
            const totalCount = checkboxes.length;
            const percentage = totalCount > 0 ? (checkedCount / totalCount) * 100 : 0;

            const progressBar = card.querySelector('.progress-bar');
            const progressText = card.querySelector('.progress-text');

            if (progressBar) progressBar.style.width = `${percentage}%`;
            if (progressText) progressText.textContent = `${Math.round(percentage)}%`;

            if (percentage === 100) {
                card.classList.add('completed');
            } else {
                card.classList.remove('completed');
            }
        }

        // Functions to save and load progress

        function saveProgress() {
            const allCards = document.querySelectorAll('.task-card');
            const progressData = {};
            allCards.forEach(card => {
                const cardIndex = card.dataset.cardIndex;
                const checkboxes = card.querySelectorAll('.problem-checkbox-custom');
                const checkedStates = Array.from(checkboxes).map(cb => cb.checked);
                progressData[cardIndex] = checkedStates;
            });
            localStorage.setItem(progressKey, JSON.stringify(progressData));
        }

        function loadProgress() {
            const savedProgress = localStorage.getItem(progressKey);
            if (!savedProgress) return;

            const progressData = JSON.parse(savedProgress);
            const allCards = document.querySelectorAll('.task-card');

            allCards.forEach(card => {
                const cardIndex = card.dataset.cardIndex;
                if (progressData[cardIndex]) {
                    const checkboxes = card.querySelectorAll('.problem-checkbox-custom');
                    checkboxes.forEach((cb, i) => {
                        cb.checked = progressData[cardIndex][i] || false;
                    });
                    updateProgress(card); // Update UI after loading state
                }
            });
        }

        // Populate the grids and add event listeners
        schedule.forEach((task, index) => {
            const card = createCard(task, index);
            if (index < 7) {
                week1Grid.appendChild(card);
            } else {
                week2Grid.appendChild(card);
            }
            // Add a single event listener to the card for efficiency
            card.addEventListener('change', (e) => {
                if (e.target.matches('.problem-checkbox-custom')) {
                    updateProgress(card);
                    saveProgress(); // Save progress on every change
                }
            });
        });
        
        // Load progress when the page loads
        document.addEventListener('DOMContentLoaded', loadProgress);

    </script>
</body>
</html>
